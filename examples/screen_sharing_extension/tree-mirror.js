!function(t,e){for(var r in e)t[r]=e[r]}(window,function(t){var e={};function r(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=10)}({1:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=r(5),n=function(){function t(){this.nodes=[],this.values=[]}return t.prototype.isIndex=function(t){return+t==t>>>0},t.prototype.nodeId=function(e){var r=e[t.ID_PROP];return r||(r=e[t.ID_PROP]=t.nextId_++),r},t.prototype.set=function(t,e){var r=this.nodeId(t);this.nodes[r]=t,this.values[r]=e},t.prototype.get=function(t){var e=this.nodeId(t);return this.values[e]},t.prototype.has=function(t){return this.nodeId(t)in this.nodes},t.prototype.delete=function(t){var e=this.nodeId(t);delete this.nodes[e],delete this.values[e]},t.prototype.keys=function(){var t=[];for(var e in this.nodes)this.isIndex(e)&&t.push(this.nodes[e]);return t},t.ID_PROP="__mutation_summary_node_map_id__",t.nextId_=1,t}();e.NodeMap=n,function(t){t[t.STAYED_OUT=0]="STAYED_OUT",t[t.ENTERED=1]="ENTERED",t[t.STAYED_IN=2]="STAYED_IN",t[t.REPARENTED=3]="REPARENTED",t[t.REORDERED=4]="REORDERED",t[t.EXITED=5]="EXITED"}(i=e.Movement||(e.Movement={}));var o=function(){function t(t,e,r,i,a,n,o,s){void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===n&&(n=!1),void 0===o&&(o=null),void 0===s&&(s=null),this.node=t,this.childList=e,this.attributes=r,this.characterData=i,this.oldParentNode=a,this.added=n,this.attributeOldValues=o,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return t.prototype.getAttributeOldValue=function(t){if(this.attributeOldValues)return this.isCaseInsensitive&&(t=t.toLowerCase()),this.attributeOldValues[t]},t.prototype.getAttributeNamesMutated=function(){var t=[];if(!this.attributeOldValues)return t;for(var e in this.attributeOldValues)t.push(e);return t},t.prototype.attributeMutated=function(t,e){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},t in this.attributeOldValues||(this.attributeOldValues[t]=e)},t.prototype.characterDataMutated=function(t){this.characterData||(this.characterData=!0,this.characterDataOldValue=t)},t.prototype.removedFromParent=function(t){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=t},t.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},t.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},t}();e.NodeChange=o;var s=function(){return function(){this.added=new n,this.removed=new n,this.maybeMoved=new n,this.oldPrevious=new n,this.moved=void 0}}();e.ChildListChange=s;var u=function(t){function e(e,r){var i=t.call(this)||this;i.rootNode=e,i.reachableCache=new n,i.wasReachableCache=new n,i.anyParentsChanged=!1,i.anyAttributesChanged=!1,i.anyCharacterDataChanged=!1;for(var a=function(t){switch(t.type){case"childList":o.anyParentsChanged=!0,t.removedNodes.forEach(function(e){i.getChange(e).removedFromParent(t.target)}),t.addedNodes.forEach(function(t){i.getChange(t).insertedIntoParent()});break;case"attributes":o.anyAttributesChanged=!0,o.getChange(t.target).attributeMutated(t.attributeName,t.oldValue);break;case"characterData":o.anyCharacterDataChanged=!0,o.getChange(t.target).characterDataMutated(t.oldValue)}},o=this,s=0,u=r;s<u.length;s++){a(u[s])}return i}return a.__extends(e,t),e.prototype.getChange=function(t){var e=this.get(t);return e||(e=new o(t),this.set(t,e)),e},e.prototype.getOldParent=function(t){var e=this.get(t);return e?e.getOldParent():t.parentNode},e.prototype.getIsReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;var e=this.reachableCache.get(t);return void 0===e&&(e=this.getIsReachable(t.parentNode),this.reachableCache.set(t,e)),e},e.prototype.getWasReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;var e=this.wasReachableCache.get(t);return void 0===e&&(e=this.getWasReachable(this.getOldParent(t)),this.wasReachableCache.set(t,e)),e},e.prototype.reachabilityChange=function(t){return this.getIsReachable(t)?this.getWasReachable(t)?i.STAYED_IN:i.ENTERED:this.getWasReachable(t)?i.EXITED:i.STAYED_OUT},e}(n);e.TreeChanges=u;var h=function(){function t(t,e,r,i,a){this.rootNode=t,this.mutations=e,this.selectors=r,this.calcReordered=i,this.calcOldPreviousSibling=a,this.treeChanges=new u(t,e),this.entered=[],this.exited=[],this.stayedIn=new n,this.visited=new n,this.childListChangeMap=void 0,this.characterDataOnly=void 0,this.matchCache=void 0,this.processMutations()}return t.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var t=0,e=this.treeChanges.keys();t<e.length;t++){var r=e[t];this.visitNode(r,void 0)}},t.prototype.visitNode=function(t,e){if(!this.visited.has(t)){this.visited.set(t,!0);var r=this.treeChanges.get(t),a=e;if((r&&r.childList||null==a)&&(a=this.treeChanges.reachabilityChange(t)),a!==i.STAYED_OUT){if(this.matchabilityChange(t),a===i.ENTERED)this.entered.push(t);else if(a===i.EXITED)this.exited.push(t),this.ensureHasOldPreviousSiblingIfNeeded(t);else if(a===i.STAYED_IN){var n=i.STAYED_IN;r&&r.childList&&(r.oldParentNode!==t.parentNode?(n=i.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(t)):this.calcReordered&&this.wasReordered(t)&&(n=i.REORDERED)),this.stayedIn.set(t,n)}if(a!==i.STAYED_IN)for(var o=t.firstChild;o;o=o.nextSibling)this.visitNode(o,a)}}},t.prototype.ensureHasOldPreviousSiblingIfNeeded=function(t){if(this.calcOldPreviousSibling){this.processChildlistChanges();var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var i=this.getChildlistChange(e);i.oldPrevious.has(t)||i.oldPrevious.set(t,t.previousSibling)}},t.prototype.getChanged=function(t,e,r){this.selectors=e,this.characterDataOnly=r;for(var a=0,n=this.entered;a<n.length;a++){var o=n[a];(l=this.matchabilityChange(o))!==i.ENTERED&&l!==i.STAYED_IN||t.added.push(o)}for(var s=0,u=this.stayedIn.keys();s<u.length;s++){o=u[s];if((l=this.matchabilityChange(o))===i.ENTERED)t.added.push(o);else if(l===i.EXITED)t.removed.push(o);else if(l===i.STAYED_IN&&(t.reparented||t.reordered)){var h=this.stayedIn.get(o);t.reparented&&h===i.REPARENTED?t.reparented.push(o):t.reordered&&h===i.REORDERED&&t.reordered.push(o)}}for(var c=0,d=this.exited;c<d.length;c++){var l;o=d[c];(l=this.matchabilityChange(o))!==i.EXITED&&l!==i.STAYED_IN||t.removed.push(o)}},t.prototype.getOldParentNode=function(t){var e=this.treeChanges.get(t);if(e&&e.childList)return e.oldParentNode?e.oldParentNode:null;var r=this.treeChanges.reachabilityChange(t);if(r===i.STAYED_OUT||r===i.ENTERED)throw Error("getOldParentNode requested on invalid node.");return t.parentNode},t.prototype.getOldPreviousSibling=function(t){var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var i=this.findChildlistChange(e);if(!i)throw Error("getOldPreviousSibling requested on invalid node.");return i.oldPrevious.get(t)},t.prototype.getOldAttribute=function(t,e){var r=this.treeChanges.get(t);if(!r||!r.attributes)throw Error("getOldAttribute requested on invalid node.");var i=r.getAttributeOldValue(e);if(void 0===i)throw Error("getOldAttribute requested for unchanged attribute name.");return i},t.prototype.attributeChangedNodes=function(t){if(!this.treeChanges.anyAttributesChanged)return{};var e,r;if(t){e={},r={};for(var a=0,n=t;a<n.length;a++){e[p=n[a]]=!0,r[p.toLowerCase()]=p}}for(var o={},s=0,u=this.treeChanges.keys();s<u.length;s++){var h=u[s],c=this.treeChanges.get(h);if(c.attributes&&(i.STAYED_IN===this.treeChanges.reachabilityChange(h)&&i.STAYED_IN===this.matchabilityChange(h)))for(var d=h,l=0,f=c.getAttributeNamesMutated();l<f.length;l++){var p=f[l];if(!e||e[p]||c.isCaseInsensitive&&r[p])c.getAttributeOldValue(p)!==d.getAttribute(p)&&(r&&c.isCaseInsensitive&&(p=r[p]),o[p]=o[p]||[],o[p].push(d))}}return o},t.prototype.getOldCharacterData=function(t){var e=this.treeChanges.get(t);if(!e||!e.characterData)throw Error("getOldCharacterData requested on invalid node.");return e.characterDataOldValue},t.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var t=[],e=0,r=this.treeChanges.keys();e<r.length;e++){var a=r[e];if(i.STAYED_IN===this.treeChanges.reachabilityChange(a)){var n=this.treeChanges.get(a);n.characterData&&a.textContent!=n.characterDataOldValue&&t.push(a)}}return t},t.prototype.computeMatchabilityChange=function(t,e){this.matchCache||(this.matchCache=[]),this.matchCache[t.uid]||(this.matchCache[t.uid]=new n);var r=this.matchCache[t.uid],i=r.get(e);return void 0===i&&(i=t.matchabilityChange(e,this.treeChanges.get(e)),r.set(e,i)),i},t.prototype.matchabilityChange=function(t){var e=this;if(this.characterDataOnly)switch(t.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return i.STAYED_IN;default:return i.STAYED_OUT}if(!this.selectors)return i.STAYED_IN;if(t.nodeType!==Node.ELEMENT_NODE)return i.STAYED_OUT;for(var r=t,a=this.selectors.map(function(t){return e.computeMatchabilityChange(t,r)}),n=i.STAYED_OUT,o=0;n!==i.STAYED_IN&&o<a.length;){switch(a[o]){case i.STAYED_IN:n=i.STAYED_IN;break;case i.ENTERED:n=n===i.EXITED?i.STAYED_IN:i.ENTERED;break;case i.EXITED:n=n===i.ENTERED?i.STAYED_IN:i.EXITED}o++}return n},t.prototype.findChildlistChange=function(t){return this.childListChangeMap.get(t)},t.prototype.getChildlistChange=function(t){var e=this.findChildlistChange(t);return e||(e=new s,this.childListChangeMap.set(t,e)),e},t.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new n;for(var t=0,e=this.mutations;t<e.length;t++){var r=e[t];if("childList"==r.type&&(this.treeChanges.reachabilityChange(r.target)===i.STAYED_IN||this.calcOldPreviousSibling)){var a=this.getChildlistChange(r.target),o=r.previousSibling,s=function(t,e){!t||a.oldPrevious.has(t)||a.added.has(t)||a.maybeMoved.has(t)||e&&(a.added.has(e)||a.maybeMoved.has(e))||a.oldPrevious.set(t,e)};r.removedNodes.forEach(function(t){s(t,o),a.added.has(t)?a.added.delete(t):(a.removed.set(t,!0),a.maybeMoved.delete(t)),o=t}),s(r.nextSibling,o),r.addedNodes.forEach(function(t){a.removed.has(t)?(a.removed.delete(t),a.maybeMoved.set(t,!0)):a.added.set(t,!0)})}}}},t.prototype.wasReordered=function(t){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var i=this.findChildlistChange(e);if(!i)return!1;if(i.moved)return i.moved.get(t);i.moved=new n;var a=new n;function o(t){if(!t)return!1;if(!i.maybeMoved.has(t))return!1;var e=i.moved.get(t);return void 0!==e?e:(a.has(t)?e=!0:(a.set(t,!0),e=function(t){if(u.has(t))return u.get(t);var e=t.previousSibling;for(;e&&(i.added.has(e)||o(e));)e=e.previousSibling;return u.set(t,e),e}(t)!==function t(e){var r=s.get(e);if(void 0!==r)return r;r=i.oldPrevious.get(e);for(;r&&(i.removed.has(r)||o(r));)r=t(r);void 0===r&&(r=e.previousSibling);s.set(e,r);return r}(t)),a.has(t)?(a.delete(t),i.moved.set(t,e)):e=i.moved.get(t),e)}var s=new n;var u=new n;return i.maybeMoved.keys().forEach(o),i.moved.get(t)},t}();e.MutationProjection=h;var c=function(){function t(t,e){var r=this;if(this.projection=t,this.added=[],this.removed=[],this.reparented=e.all||e.element||e.characterData?[]:void 0,this.reordered=e.all?[]:void 0,t.getChanged(this,e.elementFilter,e.characterData),e.all||e.attribute||e.attributeList){var i=e.attribute?[e.attribute]:e.attributeList,a=t.attributeChangedNodes(i);e.attribute?this.valueChanged=a[e.attribute]||[]:(this.attributeChanged=a,e.attributeList&&e.attributeList.forEach(function(t){r.attributeChanged.hasOwnProperty(t)||(r.attributeChanged[t]=[])}))}if(e.all||e.characterData){var n=t.getCharacterDataChanged();e.characterData?this.valueChanged=n:this.characterDataChanged=n}this.reordered&&(this.getOldPreviousSibling=t.getOldPreviousSibling.bind(t))}return t.prototype.getOldParentNode=function(t){return this.projection.getOldParentNode(t)},t.prototype.getOldAttribute=function(t,e){return this.projection.getOldAttribute(t,e)},t.prototype.getOldCharacterData=function(t){return this.projection.getOldCharacterData(t)},t.prototype.getOldPreviousSibling=function(t){return this.projection.getOldPreviousSibling(t)},t}();e.Summary=c;var d=/[a-zA-Z_]+/,l=/[a-zA-Z0-9_\-]+/;function f(t){return'"'+t.replace(/"/,'\\"')+'"'}var p=function(){function t(){}return t.prototype.matches=function(t){if(null===t)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==t;for(var e=0,r=t.split(" ");e<r.length;e++){var i=r[e];if(this.attrValue===i)return!0}return!1},t.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+f(this.attrValue)+"]":void 0!==this.attrValue&&null!==this.attrName?"["+this.attrName+"="+f(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},t}(),v=function(){function t(){this.uid=t.nextUid++,this.qualifiers=[]}var e;return Object.defineProperty(t.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),t.prototype.isMatching=function(e){return e[t.matchesSelector](this.selectorString)},t.prototype.wasMatching=function(t,e,r){if(!e||!e.attributes)return r;var i=e.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==i&&i!==t.tagName)return!1;for(var a=[],n=!1,o=0,s=this.qualifiers;o<s.length;o++){var u=s[o],h=e.getAttributeOldValue(u.attrName);a.push(h),n=n||void 0!==h}if(!n)return r;for(var c=0;c<this.qualifiers.length;c++){var d=this.qualifiers[c];if(void 0===(h=a[c])&&(h=t.getAttribute(d.attrName)),!d.matches(h))return!1}return!0},t.prototype.matchabilityChange=function(t,e){var r=this.isMatching(t);return r?this.wasMatching(t,e,r)?i.STAYED_IN:i.ENTERED:this.wasMatching(t,e,r)?i.EXITED:i.STAYED_OUT},t.parseSelectors=function(e){var r,i,a=[];function n(){r&&(i&&(r.qualifiers.push(i),i=void 0),a.push(r)),r=new t}function o(){i&&r.qualifiers.push(i),i=new p}for(var s,u=/\s/,h="Invalid or unsupported selector syntax.",c=1,f=0;f<e.length;){var v=e[f++];switch(c){case 1:if(v.match(d)){n(),r.tagName=v,c=2;break}if("*"==v){n(),r.tagName="*",c=3;break}if("."==v){n(),o(),r.tagName="*",i.attrName="class",i.contains=!0,c=4;break}if("#"==v){n(),o(),r.tagName="*",i.attrName="id",c=4;break}if("["==v){n(),o(),r.tagName="*",i.attrName="",c=6;break}if(v.match(u))break;throw Error(h);case 2:if(v.match(l)){r.tagName+=v;break}if("."==v){o(),i.attrName="class",i.contains=!0,c=4;break}if("#"==v){o(),i.attrName="id",c=4;break}if("["==v){o(),i.attrName="",c=6;break}if(v.match(u)){c=14;break}if(","==v){c=1;break}throw Error(h);case 3:if("."==v){o(),i.attrName="class",i.contains=!0,c=4;break}if("#"==v){o(),i.attrName="id",c=4;break}if("["==v){o(),i.attrName="",c=6;break}if(v.match(u)){c=14;break}if(","==v){c=1;break}throw Error(h);case 4:if(v.match(d)){i.attrValue=v,c=5;break}throw Error(h);case 5:if(v.match(l)){i.attrValue+=v;break}if("."==v){o(),i.attrName="class",i.contains=!0,c=4;break}if("#"==v){o(),i.attrName="id",c=4;break}if("["==v){o(),c=6;break}if(v.match(u)){c=14;break}if(","==v){c=1;break}throw Error(h);case 6:if(v.match(d)){i.attrName=v,c=7;break}if(v.match(u))break;throw Error(h);case 7:if(v.match(l)){i.attrName+=v;break}if(v.match(u)){c=8;break}if("~"==v){i.contains=!0,c=9;break}if("="==v){i.attrValue="",c=11;break}if("]"==v){c=3;break}throw Error(h);case 8:if("~"==v){i.contains=!0,c=9;break}if("="==v){i.attrValue="",c=11;break}if("]"==v){c=3;break}if(v.match(u))break;throw Error(h);case 9:if("="==v){i.attrValue="",c=11;break}throw Error(h);case 10:if("]"==v){c=3;break}if(v.match(u))break;throw Error(h);case 11:if(v.match(u))break;if('"'==v||"'"==v){s=v,c=13;break}i.attrValue+=v,c=12;break;case 12:if(v.match(u)){c=10;break}if("]"==v){c=3;break}if("'"==v||'"'==v)throw Error(h);i.attrValue+=v;break;case 13:if(v==s){c=10;break}i.attrValue+=v;break;case 14:if(v.match(u))break;if(","==v){c=1;break}throw Error(h)}}switch(c){case 1:case 2:case 3:case 5:case 14:n();break;default:throw Error(h)}if(!a.length)throw Error(h);return a},t.nextUid=1,t.matchesSelector="function"==typeof(e=document.createElement("div")).webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof e.mozMatchesSelector?"mozMatchesSelector":"function"==typeof e.msMatchesSelector?"msMatchesSelector":"matchesSelector",t}(),b=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function g(t){if("string"!=typeof t)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!(t=t.trim()))throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!t.match(b))throw Error("Invalid request option. invalid attribute name: "+t);return t}function m(t){if(!t.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var e={},r={},i=0,a=t.split(/\s+/);i<a.length;i++){if(n=a[i]){var n,o=(n=g(n)).toLowerCase();if(e[o])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");r[n]=!0,e[o]=!0}}return Object.keys(r)}var y=function(){function t(e){var r=this;this.connected=!1,this.options=t.validateOptions(e),this.observerOptions=t.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.mutations=[],this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(t){return t.elementFilter?t.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=void 0),this.calcReordered=this.options.queries.some(function(t){return t.all}),this.queryValidators=[],t.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(e){return t.createQueryValidator(r.root,e)})),this.observer=new MutationObserver(function(t){r.observerCallback(t)}),this.reconnect()}return t.createObserverOptions=function(t){var e,r={childList:!0,subtree:!0};function i(t){r.attributes&&!e||(r.attributes=!0,r.attributeOldValue=!0,t?(e=e||{},t.forEach(function(t){e[t]=!0,e[t.toLowerCase()]=!0})):e=void 0)}return t.forEach(function(t){if(t.characterData)return r.characterData=!0,void(r.characterDataOldValue=!0);if(t.all)return i(),r.characterData=!0,void(r.characterDataOldValue=!0);if(t.attribute)i([t.attribute.trim()]);else{var e=function(t){var e={};return t.forEach(function(t){t.qualifiers.forEach(function(t){e[t.attrName]=!0})}),Object.keys(e)}(t.elementFilter).concat(t.attributeList||[]);e.length&&i(e)}}),e&&(r.attributeFilter=Object.keys(e)),r},t.validateOptions=function(e){for(var r in e)if(!(r in t.optionKeys))throw Error("Invalid option: "+r);if(e.callback&&"function"!=typeof e.callback)throw Error("Invalid options: callback is optional and must be a function");if(!e.queries||!e.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var i={callback:e.callback,rootNode:e.rootNode||document,observeOwnChanges:!!e.observeOwnChanges,oldPreviousSibling:!!e.oldPreviousSibling,queries:[]},a=0,n=e.queries;a<n.length;a++){var o=n[a];if(o.all){if(Object.keys(o).length>1)throw Error("Invalid request option. all has no options.");i.queries.push({all:!0})}else if("attribute"in o){if((u={attribute:g(o.attribute)}).elementFilter=v.parseSelectors("*["+u.attribute+"]"),Object.keys(o).length>1)throw Error("Invalid request option. attribute has no options.");i.queries.push(u)}else if("element"in o){var s=Object.keys(o).length,u={element:o.element,elementFilter:v.parseSelectors(o.element)};if(o.hasOwnProperty("elementAttributes")&&(u.attributeList=m(o.elementAttributes),s--),s>1)throw Error("Invalid request option. element only allows elementAttributes option.");i.queries.push(u)}else{if(!o.characterData)throw Error("Invalid request option. Unknown query request.");if(Object.keys(o).length>1)throw Error("Invalid request option. characterData has no options.");i.queries.push({characterData:!0})}}return i},t.prototype.createSummaries=function(){var t=this.resetMutations();if(!t.length)return[];for(var e=new h(this.root,t,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling),r=[],i=0,a=this.options.queries;i<a.length;i++){var n=a[i];r.push(new c(e,n))}return r},t.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(t){t&&t.recordPreviousState()})},t.prototype.runQueryValidators=function(t){this.queryValidators.forEach(function(e,r){e&&e.validate(t[r])})},t.prototype.changesToReport=function(t){return t.some(function(t){if(["added","removed","reordered","reparented","valueChanged","characterDataChanged"].some(function(e){return t[e]&&t[e].length}))return!0;if(t.attributeChanged&&Object.keys(t.attributeChanged).some(function(e){return!!t.attributeChanged[e].length}))return!0;return!1})},t.prototype.observerCallback=function(t){if(this.addMutations(t),this.callback){this.options.observeOwnChanges||this.observer.disconnect();var e=this.createSummaries();this.runQueryValidators(e),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(e)&&this.callback(e),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))}},t.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},t.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");this.addMutations(this.observer.takeRecords());var t=this.createSummaries();return this.changesToReport(t)?t:void 0},t.prototype.disconnect=function(){var t=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,t},t.prototype.addMutations=function(t){var e;(e=this.mutations).push.apply(e,t)},t.prototype.resetMutations=function(){var t=this.mutations;return this.mutations=[],t},t.NodeMap=n,t.parseElementFilter=v.parseSelectors,t.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},t}();e.MutationSummary=y},10:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=function(){function t(t,e){this.root=t,this.delegate=e,this.idMap={}}return t.prototype.initialize=function(t,e){this.idMap[t]=this.root;for(var r=0;r<e.length;r++)this.deserializeNode(e[r],this.root)},t.prototype.applyChanged=function(t,e,r,i){var a=this;e.forEach(function(t){var e=a.deserializeNode(t);a.deserializeNode(t.parentNode),a.deserializeNode(t.previousSibling);e.parentNode&&e.parentNode.removeChild(e)}),t.forEach(function(t){var e=a.deserializeNode(t);e.parentNode&&e.parentNode.removeChild(e)}),e.forEach(function(t){var e=a.deserializeNode(t),r=a.deserializeNode(t.parentNode),i=a.deserializeNode(t.previousSibling);r.insertBefore(e,i?i.nextSibling:r.firstChild)}),r.forEach(function(t){var e=a.deserializeNode(t);Object.keys(t.attributes).forEach(function(r){var i=t.attributes[r];null===i?e.removeAttribute(r):a.delegate&&a.delegate.setAttribute&&a.delegate.setAttribute(e,r,i)||e.setAttribute(r,i)})}),i.forEach(function(t){a.deserializeNode(t).textContent=t.textContent}),t.forEach(function(t){delete a.idMap[t.id]})},t.prototype.deserializeNode=function(t,e){var r=this;if(null===t)return null;var i=this.idMap[t.id];if(i)return i;var a=this.root.ownerDocument;switch(null===a&&(a=this.root),t.nodeType){case Node.COMMENT_NODE:i=a.createComment(t.textContent);break;case Node.TEXT_NODE:i=a.createTextNode(t.textContent);break;case Node.DOCUMENT_TYPE_NODE:i=a.implementation.createDocumentType(t.name,t.publicId,t.systemId);break;case Node.ELEMENT_NODE:this.delegate&&this.delegate.createElement&&(i=this.delegate.createElement(t.tagName)),i||(i=a.createElement(t.tagName)),Object.keys(t.attributes).forEach(function(e){r.delegate&&r.delegate.setAttribute&&r.delegate.setAttribute(i,e,t.attributes[e])||i.setAttribute(e,t.attributes[e])})}if(!i)throw"ouch";if(this.idMap[t.id]=i,e&&e.appendChild(i),t.childNodes)for(var n=0;n<t.childNodes.length;n++)this.deserializeNode(t.childNodes[n],i);return i},t}();e.TreeMirror=a;var n=function(){function t(t,e,r){var a=this;this.target=t,this.mirror=e,this.nextId=1,this.knownNodes=new i.MutationSummary.NodeMap;for(var n=this.serializeNode(t).id,o=[],s=t.firstChild;s;s=s.nextSibling)o.push(this.serializeNode(s,!0));this.mirror.initialize(n,o);var u=[{all:!0}];r&&(u=u.concat(r)),this.mutationSummary=new i.MutationSummary({rootNode:t,callback:function(t){a.applyChanged(t)},queries:u})}return t.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=void 0)},t.prototype.rememberNode=function(t){var e=this.nextId++;return this.knownNodes.set(t,e),e},t.prototype.forgetNode=function(t){this.knownNodes.delete(t)},t.prototype.serializeNode=function(t,e){if(null===t)return null;var r=this.knownNodes.get(t);if(void 0!==r)return{id:r};var i={nodeType:t.nodeType,id:this.rememberNode(t)};switch(i.nodeType){case Node.DOCUMENT_TYPE_NODE:var a=t;i.name=a.name,i.publicId=a.publicId,i.systemId=a.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:i.textContent=t.textContent;break;case Node.ELEMENT_NODE:var n=t;i.tagName=n.tagName,i.attributes={};for(var o=0;o<n.attributes.length;o++){var s=n.attributes[o];i.attributes[s.name]=s.value}if(e&&n.childNodes.length){i.childNodes=[];for(var u=n.firstChild;u;u=u.nextSibling)i.childNodes.push(this.serializeNode(u,!0))}}return i},t.prototype.serializeAddedAndMoved=function(t,e,r){var a=this,n=t.concat(e).concat(r),o=new i.MutationSummary.NodeMap;n.forEach(function(t){var e=t.parentNode,r=o.get(e);r||(r=new i.MutationSummary.NodeMap,o.set(e,r)),r.set(t,!0)});var s=[];return o.keys().forEach(function(t){for(var e=o.get(t),r=e.keys();r.length;){for(var i=r[0];i.previousSibling&&e.has(i.previousSibling);)i=i.previousSibling;for(;i&&e.has(i);){var n=a.serializeNode(i);n.previousSibling=a.serializeNode(i.previousSibling),n.parentNode=a.serializeNode(i.parentNode),s.push(n),e.delete(i),i=i.nextSibling}r=e.keys()}}),s},t.prototype.serializeAttributeChanges=function(t){var e=this,r=new i.MutationSummary.NodeMap;return Object.keys(t).forEach(function(i){t[i].forEach(function(t){var a=r.get(t);a||((a=e.serializeNode(t)).attributes={},r.set(t,a)),a.attributes[i]=t.getAttribute(i)})}),r.keys().map(function(t){return r.get(t)})},t.prototype.applyChanged=function(t){var e=this,r=t[0],i=r.removed.map(function(t){return e.serializeNode(t)}),a=this.serializeAddedAndMoved(r.added,r.reparented,r.reordered),n=this.serializeAttributeChanges(r.attributeChanged),o=r.characterDataChanged.map(function(t){var r=e.serializeNode(t);return r.textContent=t.textContent,r});this.mirror.applyChanged(i,a,n,o),r.removed.forEach(function(t){e.forgetNode(t)})},t}();e.TreeMirrorClient=n},5:function(t,e,r){"use strict";r.r(e),r.d(e,"__extends",function(){return a}),r.d(e,"__assign",function(){return n}),r.d(e,"__rest",function(){return o}),r.d(e,"__decorate",function(){return s}),r.d(e,"__param",function(){return u}),r.d(e,"__metadata",function(){return h}),r.d(e,"__awaiter",function(){return c}),r.d(e,"__generator",function(){return d}),r.d(e,"__exportStar",function(){return l}),r.d(e,"__values",function(){return f}),r.d(e,"__read",function(){return p}),r.d(e,"__spread",function(){return v}),r.d(e,"__await",function(){return b}),r.d(e,"__asyncGenerator",function(){return g}),r.d(e,"__asyncDelegator",function(){return m}),r.d(e,"__asyncValues",function(){return y}),r.d(e,"__makeTemplateObject",function(){return N}),r.d(e,"__importStar",function(){return E}),r.d(e,"__importDefault",function(){return C});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var n=function(){return(n=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function o(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&(r[i[a]]=t[i[a]])}return r}function s(t,e,r,i){var a,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(n<3?a(o):n>3?a(e,r,o):a(e,r))||o);return n>3&&o&&Object.defineProperty(e,r,o),o}function u(t,e){return function(r,i){e(r,i,t)}}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,r,i){return new(r||(r=Promise))(function(a,n){function o(t){try{u(i.next(t))}catch(t){n(t)}}function s(t){try{u(i.throw(t))}catch(t){n(t)}}function u(t){t.done?a(t.value):new r(function(e){e(t.value)}).then(o,s)}u((i=i.apply(t,e||[])).next())})}function d(t,e){var r,i,a,n,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,i=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){o=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){o.label=n[1];break}if(6===n[0]&&o.label<a[1]){o.label=a[1],a=n;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(n);break}a[2]&&o.ops.pop(),o.trys.pop();continue}n=e.call(t,o)}catch(t){n=[6,t],i=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}}function l(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function p(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,a,n=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(t){a={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function g(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,a=r.apply(t,e||[]),n=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){a[t]&&(i[t]=function(e){return new Promise(function(r,i){n.push([t,e,r,i])>1||s(t,e)})})}function s(t,e){try{(r=a[t](e)).value instanceof b?Promise.resolve(r.value.v).then(u,h):c(n[0][2],r)}catch(t){c(n[0][3],t)}var r}function u(t){s("next",t)}function h(t){s("throw",t)}function c(t,e){t(e),n.shift(),n.length&&s(n[0][0],n[0][1])}}function m(t){var e,r;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,a){e[i]=t[i]?function(e){return(r=!r)?{value:b(t[i](e)),done:"return"===i}:a?a(e):e}:a}}function y(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=t[r]&&function(e){return new Promise(function(i,a){(function(t,e,r,i){Promise.resolve(i).then(function(e){t({value:e,done:r})},e)})(i,a,(e=t[r](e)).done,e.value)})}}}function N(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}}}));